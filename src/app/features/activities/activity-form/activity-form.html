<div class="form-container">
  <h3>{{ editingId() ? 'Editar Actividad' : 'Nueva Actividad' }}</h3>

  @if (showSuccess()) {
    <div class="success-toast">¡Operación realizada con éxito!</div>
  }

  <div class="input-grid" [class.loading-fade]="activitiesService.loading()">
    <div class="field">
      <label>Actividad</label>
      <input type="text" [(ngModel)]="newActivity.type" (input)="calculateCalories()" placeholder="Ej: Natación">
    </div>

    <div class="field">
      <label>Fecha</label>
      <input type="date" [(ngModel)]="newActivity.date">
    </div>

    <div class="field">
      <label>Duración (min)</label>
      <input type="number" [(ngModel)]="newActivity.duration" (input)="calculateCalories()" [class.error]="newActivity.duration < 0">
    </div>

    <div class="field">
      <label>Calorías</label>
      <input type="number" [(ngModel)]="newActivity.calories" placeholder="kcal">
    </div>

    <div class="actions">
      <button class="btn-save" (click)="save()" [disabled]="!newActivity.type || newActivity.duration <= 0">
        {{ editingId() ? 'Actualizar' : 'Guardar' }}
      </button>
      
      @if (editingId()) {
        <button class="btn-cancel" (click)="cancelEdit()" type="button">
          Cancelar
        </button>
      }
    </div>
  </div>
</div>